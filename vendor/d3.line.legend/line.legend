<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8'>
<title>Sixth progress report</title>
<meta content='TOMCAT progress report' name='description'>
<meta content='Matteo Abis' name='author'>
<meta content='yes' name='apple-mobile-web-app-capable'>
<meta content='black-translucent' name='apple-mobile-web-app-status-bar-style'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui' name='viewport'>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="../../stylesheets/all.css" rel="stylesheet" type="text/css" />
<script src="../reveal.js/lib/js/head.min.js" type="text/javascript"></script>
<script src="../../javascripts/reveal_print_pdf.js" type="text/javascript"></script>
<!--[if lt IE 9]>
<script src="/vendor/reveal.js/lib/js/html5shiv.js"></script>
<![endif]-->
</head>
<body>
<div class='reveal'>
<!-- Any section element inside of this container is displayed as a slide -->
<div class='slides'>
(function() {
  var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  d3.chart.LineLegend = (function(superClass) {
    extend(LineLegend, superClass);

    function LineLegend() {
      if (this.accessors == null) {
        this.accessors = {};
      }
      this.accessors.color_scale = d3.scale.category20();
      LineLegend.__super__.constructor.apply(this, arguments);
    }

    LineLegend.prototype._draw = function(element, data, i) {
      var color_scale, font_size, legend_element_height, legend_group, legend_line_width, legends, width;
      width = $(element)[0].getBBox().width;
      color_scale = this.color_scale();
      font_size = $(element).css('font-size');
      legend_element_height = Math.floor(parseInt(font_size.replace('px', '')) * 1.5);
      legend_line_width = 0.05 * width;
      legend_group = d3.select(element).selectAll(".legends").data([color_scale.domain()]);
      legend_group.enter().append("g").classed("legends", true);
      legend_group.exit().remove();
      legends = legend_group.selectAll(".legend").data(function(d) {
        return d;
      });
      legends.enter().append("g").classed("legend", true);
      legends.each(function(d) {
        var lines, texts;
        lines = d3.select(this).selectAll("line").data([d]);
        lines.enter().append("line").classed("legend", true).attr("x1", width - legend_line_width).attr("x2", width).attr("y1", 0.5 * legend_element_height).attr("y2", 0.5 * legend_element_height).attr("stroke", color_scale);
        lines.exit().remove();
        texts = d3.select(this).selectAll("text").data([d]);
        texts.enter().append("text").attr("x", width - 1.2 * legend_line_width).attr("y", 0.5 * legend_element_height).attr("dy", 0.25 * legend_element_height).style("text-anchor", "end").text(function(d) {
          return d;
        });
        return texts.exit().remove();
      });
      legends.attr("transform", function(d, i) {
        return "translate(0, " + (legend_element_height * i) + ")";
      });
      return legends.exit().remove();
    };

    return LineLegend;

  })(d3.chart.BaseChart);

}).call(this);

</div>
</div>
<script src="https://code.jquery.com/jquery-2.1.3.min.js" type="text/javascript"></script>
<script src="http://d3js.org/d3.v3.min.js" type="text/javascript"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../../javascripts/all.js" type="text/javascript"></script>
</body>
</html>
